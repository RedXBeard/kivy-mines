#:kivy 1.8.0
#:import get_color_from_hex kivy.utils.get_color_from_hex

<CustomLabel>:
    canvas.before:
        Color:
            rgba: get_color_from_hex('E2DDD5')
        Rectangle:
            pos: self.pos
            size: self.size

<BoardButton>
    background_normal: ""
	background_down: ""
	background_disabled_down: ""
	background_disabled_normal: ""
	background_color: get_color_from_hex('E2DDD5')
	border: 16,16,16,16
	opened: False
	markup: True
	font_size: self.height/3*2

<Button>
	background_normal: ""
	background_down: ""
	background_disabled_down: ""
	background_disabled_normal: ""
	background_color: get_color_from_hex('E2DDD5')
	border: 16,16,16,16
	pressed: False
	markup: True
	font_size: self.width/5

<Label>
    markup: True

<KivyMines>
	board_selection: board_selection
	board_screen: board_screen

	Screen:
		id: board_selection
		name: 'board_selection'

		GridLayout:
			cols: 3
			rows: 1
			board_selection: board_selection

			Label:
				size_hint: 0.2, 1

			GridLayout:
				id: board_selection
				padding: 0, 6, 0, 6
				spacing: 6, 6
				rows: 2
				cols: 2

				Button:
					text: '[color=000000]8 x 8[/color]'
					on_press: root.board_select(8, 8)

				Button:
					text: '[color=000000]16 x 16[/color]'
					on_press: root.board_select(16, 16)

				Button:
					text: '[color=000000]24 x 24[/color]'
					on_press: root.board_select(24, 24)

				Button:
					text: '[color=000000]32 x 32[/color]'
					on_press: root.board_select(32, 32)

			Label:
				size_hint: 0.2, 1

	Screen:
		id: board_screen
		name: 'board_screen'
		board: board
		GridLayout:
			cols: 3
			rows: 1
            Label:

			GridLayout:
				id: board
				cols: root.vertical
				rows: root.horizontal
				padding: 0, 20, 0, 20
				spacing: 2, 2
                size_hint: None, 1.0
                width: self.height

            BoxLayout:
                orientation: 'vertical'

                Label:
                    size_hint_y: None
                    height: 20

                Image:
                    source: 'assets/mine.png'
                    size_hint: None, None
                    size: 40, 40
                    pos_hint: {'center_x': 0.5}

                Label:
                    text: '[color=000000]%s/%s[/color]'%(root.found_bombs, root.bomb_count)
                    size_hint_y: None
                    height: 20

                Label:

                Button:
                    size_hint_y: None
                    background_color: get_color_from_hex('F0F0F0')
                    height: 100
                    on_press: root.switch_screen('board_selection', 'right')
                    Image:
                        source: 'assets/refresh.png'
                        pos: self.parent.center_x-15, self.parent.center_y-15
                        size: 30, 30
                Label:
                    text: "[color=000000]%s[/color]"%root.game_since
                    size_hint_y: None
                    height: 20
                Label:
                    size_hint_y: None
                    height: 20
